<ui:composition template="/template/user.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                >
    <ui:define name="title">MantechHelpDesk: Administrator >> Create new account</ui:define>
    <ui:define name="content">
        <f:view>
            <h:form id="insertAccountForm">
                <p:panel id="panelEditUserAccount" header="Create new account">
                    <p:panelGrid columns="3" id="panelEditUserAccountID" styleClass="table_insert_update">
                        <h:outputLabel value="ID *:" for="AccountID" />
                        <p:outputLabel id="AccountID" value="#{account.curUser.accountID}" 
                                       title="Account ID"/>
                        <p:message for="AccountID"/>

                        <h:outputLabel value="Username *:" for="Username" />
                        <p:inputText id="Username" value="#{account.curUser.username}" 
                                     title="Username" required="true" 
                                     requiredMessage="The Username cannot be blank."
                                     readonly="true"/>
                        <p:message for="Username" />

                        <h:outputLabel value="Department *:" for="Department" />
                        <p:selectOneMenu id="Department" value="#{account.newDepartmentID}">
                            <f:selectItems value="#{department.allDepartment}" var="d"
                                           itemLabel="#{d.departmentName}" itemValue="#{d.departmentID}"/>
                        </p:selectOneMenu>
                        <h:outputText />

                        <h:outputLabel value="Role *:" for="Role" />
                        <p:selectOneMenu id="Role" value="#{account.newRoleID}">
                            <f:selectItems value="#{role.allRole}" var="r"
                                           itemLabel="#{r.roleName}" itemValue="#{r.roleID}"/>
                        </p:selectOneMenu>
                        <h:outputText />

                        <h:outputLabel value="Name *:" for="Name" />
                        <p:inputText id="Name" value="#{account.curUser.name}" 
                                     title="Name" required="true" 
                                     requiredMessage="The Name cannot be blank."/>
                        <p:message for="Name" />

                        <h:outputLabel value="Birthday *:" for="Birthday" />
                        <p:calendar id="Birthday" value="#{account.curUser.birthday}" 
                                    title="Birthday" required="true" 
                                    requiredMessage="The Birthday cannot be blank."
                                    pattern="yyyy-MM-dd">
                            <f:convertDateTime pattern="yyyy-MM-dd"/>
                        </p:calendar>
                        <p:message for="Birthday" />

                        <h:outputLabel value="Gender *:" for="Gender" />
                        <p:selectOneRadio id="Gender" value="#{account.curUser.gender}">
                            <f:selectItem itemLabel="Unknow" itemValue="0" />
                            <f:selectItem itemLabel="Male" itemValue="1" />
                            <f:selectItem itemLabel="Female" itemValue="2" />
                        </p:selectOneRadio>
                        <h:outputText />

                        <h:outputLabel value="Address *:" for="Address" />
                        <p:inputText id="Address" value="#{account.curUser.address}" 
                                     title="Address" required="true" 
                                     requiredMessage="The Address cannot be blank."/>
                        <p:message for="Address" />

                        <h:outputLabel value="Phone *:" for="Phone" />
                        <p:inputMask id="Phone" value="#{account.curUser.phone}" 
                                     title="Phone" required="true" 
                                     requiredMessage="The Phone cannot be blank."
                                     mask="(999) 999-9999"/>
                        <p:message for="Phone" />

                        <h:outputLabel value="Email *:" for="Address" />
                        <p:inputText id="Email" value="#{account.curUser.email}" 
                                     title="Email" required="true" 
                                     requiredMessage="The Email cannot be blank."/>
                        <p:message for="Email" />

                        <h:outputLabel value="Status:" for="Status:" /> 
                        <p:selectBooleanButton id="Status" offLabel="Disable" 
                                               onLabel="Enable" value="#{account.curUser.status}" />
                        <h:outputText />

                        <p:commandButton value="Edit" action="#{account.editUser()}" 
                                         update="panelEditUserAccountID"
                                         icon="ui-icon-check" style="margin: 0">
                            <p:confirm header="Confirmation Dialog" message="Are you sure to edit account?" icon="ui-icon-alert" />   
                        </p:commandButton>
                        <h:outputText />
                        <h:outputText />
                    </p:panelGrid>
                </p:panel>
                <p:confirmDialog id="confirmEditAccountDialogId" global="true" showEffect="fade" hideEffect="explode">
                    <p:commandButton value="Agree" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" ajax="false"/>
                    <p:commandButton value="Cancel" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                </p:confirmDialog>
            </h:form>
        </f:view>
    </ui:define>
</ui:composition>